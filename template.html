<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">
<link rel="shortcut icon" href="https://apps.fedoraproject.org/datagrepper/static/favicon.png">

<title>fedmsg health</title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<style type="text/css">
.graph {
  width: 290px;
  height: 100px;
}

.container{
    margin-bottom: 2em;
}

</style>

<body>

<div class="container">
  <div class="header">
    <ul class="nav nav-pills pull-right">
      % for name_iter in names:
      <li class="${'active' if name == name_iter else ''}"><a href="fedmsg-health-${name_iter}.html">${name_iter}</a></li>
      % endfor
      <li><a href="https://admin.fedoraproject.org/collectd/">collectd</a></li>
      <li><a href="http://github.com/fedora-infra/fedmsg-health">source</a></li>
    </ul>
    <h3 class="text-muted">fedmsg health</h3>
  </div>

  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <p class="lead text-center">
      The relative health of a number of fedmsg daemons in Fedora Infrastructure.
      </p>
    </div>
  </div>

  <hr/>
  <div class="row"><div class="col-md-4 col-md-offset-4 text-center">
      <h4><a name="db-datanommer" href="#db-datanommer">db-datanommer</a></h4>
  </div></div>
  <div class="row">
    <div class="col-md-3 text-center">
      <h5>System Load</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=load;type=load;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=load;type=load;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>Disk Usage (root)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=df;plugin_instance=root;type=df_complex;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=df;plugin_instance=root;type=df_complex;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>PG Connections</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=pg_conns;type=current_connections;type_instance=datanommer;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=pg_conns;type=current_connections;type_instance=datanommer;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>Process State</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=processes;type=ps_state;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=db-datanommer02.phx2.fedoraproject.org;plugin=processes;type=ps_state;begin=-${span}">
      </a>
    </div>
  </div>

  % for params in parameters:
  <hr/>
  <div class="row"><div class="col-md-4 col-md-offset-4 text-center">
      <h4><a name="${params['title']}" href="#${params['title']}">${params['title']}</a></h4>
  </div></div>
  <div class="row">
    <div class="col-md-3 text-center">
      <h5>Number In (#M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=gauge;type_instance=${params['consumer']}_in;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=gauge;type_instance=${params['consumer']}_in;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>Number Out (#M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=gauge;type_instance=${params['consumer']}_out;begin=-${span}"> <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=gauge;type_instance=${params['consumer']}_out;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>Backlog (#M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=queue_length;type_instance=${params['consumer']}_backlog;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=queue_length;type_instance=${params['consumer']}_backlog;begin=-${span}">
      </a>
    </div>
    <div class="col-md-3 text-center">
      <h5>Exceptions (#E)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=queue_length;type_instance=${params['consumer']}_exceptions;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=gauge;type_instance=${params['consumer']}_exceptions;begin=-${span}">
      </a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 text-center">
      <h5>Average Time / Message (ms/M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_avg;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_avg;begin=-${span}">
      </a>
    </div>
    <div class="col-md-4 text-center">
      <h5>Maximum Time / Message (ms/M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_max;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_max;begin=-${span}">
      </a>
    </div>
    <div class="col-md-4 text-center">
      <h5>Minimum Time / Message (ms/M)</h5>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_min;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=${params['host']};plugin=${params['plugin']};plugin_instance=${params['instance']};type=response_time;type_instance=${params['consumer']}_min;begin=-${span}">
      </a>
    </div>
  </div>
  % endfor

  <hr/>
  <div class="row"><div class="col-md-4 col-md-offset-4 text-center">
      <h4><a name="activation" href="#activation">activation percentage</h4>
      <a target="_blank" href="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=busgateway01.phx2.fedoraproject.org;plugin=fedmsg;type=percent;begin=-${span}">
        <img class="graph center-block" src="https://admin.fedoraproject.org/collectd/bin/graph.cgi?hostname=busgateway01.phx2.fedoraproject.org;plugin=fedmsg;type=percent;begin=-${span}">
      </a>
  </div></div>


</div>

</body>
</html>
